# XSS

## yarn installの実行
package.jsonにプログラムの動作に必要なモジュールが定義されているので、<br>
まずはファイルに記載された内容を元にインストールを行う
```
yarn install
```

## 前提条件
postgresqlが入っている必要がある<br>
インストールされていない場合は、実行環境において以下のコマンドを実行のこと

```
# aptの最新化、postgresql-10のインストール
sudo apt update
sudo apt install -y postgresql-10
  
# postgresユーザに切り替え
sudo su - postgres

# postgresのコマンドラインを起動
psql

# postgresユーザのパスワードを初期化
alter role postgres with password 'postgres';

# secret-boardデータベースの作成
create database secret_board;
```
## プログラムの起動
```
node index.js
```

## 起動したプログラムへのアクセス
http://localhost:8000/posts <br>
なお、Basic認証が有効になっているため、htpasswdファイルを参照してadminやguest1, guest2で認証する必要がある

## XSS脆弱性の確認
以下の内容をコピペして新規投稿すると、既存の新規投稿が投稿内容のスクリプトで上書きされてしまう
```
こんにちは、クラスの人達だけの匿名掲示板、盛り上がるといいですね〜(๑˃̵ᴗ˂̵)و
<script>window.onload=function(){document.getElementsByTagName('h2')[0].innerHTML='新規投稿<small>(本名を入力した箇所は自動的に可愛い絵文字に変換されます🐈)</small>';};</script>
```